---
title: "17-filtering-sensor-values-kalman-filter"
tags: 
- info305
- lecture
---


![Activity/Context Recognition|300](https://i.imgur.com/MUdRlDa.png)


Kalman Filter for Sensor Fusion
- sensor fusion: dead-reckoning, low/high pass filters



- A very simple example: 
- Position of a train, human, car, phone, device, … 
- 1DoF (Simplification of a 2DoF/3DoF positioning problem)
- Train has state xₜ which is based on the current position and the velocity
- How to determine the state xₜ₊₁? when measurement of current state and velocity have error

- Solution for the simplified scenario is based on a Markov chain: 
- A Markov chain is "a stochastic model describing a sequence of possible events in which the probability of each event depends only on the state attained in the previous event.

![|300](https://i.imgur.com/1jh2FS3.png)
![|300](https://i.imgur.com/FYgsOdy.png)

Hidden Markov Model (HMM)
![Hidden Markov Model (HMM)|300](https://i.imgur.com/U6LZrU9.png)
![|300](https://i.imgur.com/sSLxx7Y.png)

![Assumptions|300|300:](https://i.imgur.com/eh1Cmho.png)


- The initial knowledge of the system at time t = 0. 
- The red Gaussian distribution represents the pdf (probability density function) providing the initial confidence in the estimate of the position of the train 
- The arrow pointing to the right represents the known initial velocity of the train
![|300](https://i.imgur.com/PXsPt8a.png)

- The prediction of the location of the train at time t = 1 and the level of uncertainty 
- The confidence in the knowledge of the position of the train has decreased 
- We are not certain if the train has undergone any accelerations or decelerations in the intervening period from t = 0 to t = 1.
![|300](https://i.imgur.com/yyvoSB1.png)

- Shows the measurement of the location of the train at time t = 1 
- Noisy measurement (Level of uncertainty is represented by the blue Gaussian pdf) 
- The combined knowledge of this system is provided by multiplying these two pdfs together 
- A key property of Gaussion pdf: The product of two Gaussian pdfs is another Gaussian pdf
![|300](https://i.imgur.com/Pt7k4BT.png)

- Shows the new pdf (green) generated by multiplying the pdfs associated with the prediction and measurement of the train’s location at time t = 1. 
- This new pdf provides the best estimate of the location of the train, by fusing the data from the prediction and the measurement.
![|300](https://i.imgur.com/y2pQFRe.png)

Kalman Filter - Problem Statement
- The system you need to model must fullfil the following characteristic: 
- State of a system at a time t
![|100](https://i.imgur.com/a0zmW60.png)
- Measurements of the system at a time t
![|100](https://i.imgur.com/V2OByEE.png)

Equations
![](https://i.imgur.com/6qQmuu6.png)
![](https://i.imgur.com/g8dbV4I.png)

Kalman Filter - Predict and Correct
- Running the filter: 
- Two steps: Predict and Correct